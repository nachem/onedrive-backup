# OneDrive/SharePoint Backup Configuration
# This file defines your backup sources, destinations, and jobs

# Define your backup sources (OneDrive and SharePoint locations)
sources:
  - type: onedrive_personal
    name: "My Personal OneDrive"
    folders: ["all"] # or specify specific folders: ["Documents", "Pictures"]
    users: ["nachem@bernoulli.tech"]

  - type: onedrive_personal
    name: "Work OneDrive"
    folders: ["all"]
    # users: ["all"] # "all" for all users, or list specific emails: ["user1@domain.com", "user2@domain.com"]

  - type: sharepoint
    name: "Company SharePoint"
    site_url: "https://bernoullisofrware.sharepoint.com"
    libraries: ["all"]

# Define your backup destinations (cloud storage)
destinations:
  - type: aws_s3
    name: "aws_backup"
    bucket: "bernoulli-backup"
    region: "us-east-1"
    prefix: "backups/onedrive/"

# Define backup jobs (which sources go to which destinations)
backup_jobs:
  - name: "all"
    sources: ["Work OneDrive", "Company SharePoint"]
    destination: "aws_backup"
    #schedule: "0 2 * * *"  # Daily at 2 AM (cron format)
    change_detection: "timestamp" # or "hash" or "both"
    enabled: true

  - name: "onedrive_backup"
    sources: ["My Personal OneDrive", "Work OneDrive"]
    destination: "aws_backup"
    #schedule: "0 3 * * *"  # Daily at 3 AM
    change_detection: "timestamp"
    enabled: true

# Synchronization options
sync_options:
  retry_attempts: 3
  retry_delay: 5 # seconds
  parallel_uploads: 4
  encryption: false
  chunk_size: 8388608 # 8MB
  verify_uploads: true
  preserve_timestamps: true
